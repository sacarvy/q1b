"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[614],{96993:function(e,t,n){n.d(t,{D:function(){return nu},u:function(){return np}});var r=n(77455),l=n(33198),i=n(66523),o=n(31609),s=n(1551),a=n(540),c=n(20814),d=n(78502),u=n(86640),h=n(51951),p=n(41585),m=n(22681),f=n(86602),g=n(91859),x=n(52943),b=n(77767),y=n(45332),j=n(90445),v=n(46568),k=n(53175),M=n(50857),w=n(54561),N=n(80546),S=n(17821),R=n(39637),L=n(10989),C=n(12704),F=n(45985),K=n(81525),P=n(63354),D=n(24477),Y=n(94943),E=n(34640),T=n(44389),B=n(34295),A=n(24218),O=n(24259),z=n(44363),I=n(67308),q=n(91448),J=n(46420),_=n(7268),$=n(22244),W=n(77072),V=n(84494),H=n(95507),U=n(19302),Z=n(53641),X=n(78848),G=n(44611),Q=n(64270),ee=n(36002),et=n(22912),en=n(91293),er=n(8543),el=n(12633),ei=n(76412),eo=n(46611),es=n(11199),ea=n(68587),ec=n(11450),ed=n(75149),eu=n(62189),eh=n(97525);n(76877),n(89702),n(52432),n(15425),n(8406);var ep=n(20649);n(33515),n(32911),n(60147),n(41349),n(93770),n(49446),n(39974),n(13346),n(16052);var em=n(31809),ef=n(47165),eg=n(68427),ex=n(75733),eb=n(85859),ey=n(4147),ej=n(76710),ev=n(35078),ek=n(25935),eM=n(39461),ew=n(16781),eN=n.n(ew),eS=n(16681),eR=n(66266),eL=n(7031),eC=n(60472),eF=n.n(eC),eK=n(6585);let eP=l.createContext(null);function eD(){let e=(0,l.useContext)(eP);if(!e)throw Error("ToolbarStateProvider must be used to use useToolbarState");return e}let eY=(e,t,n)=>{let r=(0,N.g)(e,n,t)||{kind:"block",inlineMarks:"inherit",documentFeatures:{dividers:!0,formatting:{alignment:{center:!0,end:!0},blockTypes:{blockquote:!0,code:n.formatting.blockTypes.code},headings:n.formatting.headings,listTypes:{ordered:!0,unordered:!0}},layouts:n.layouts,links:!0,images:n.images,tables:!0},softBreaks:!0,componentBlocks:!0},[l]=o.ML.nodes(e,{match:e=>"code"!==e.type&&(0,N.i)(e)}),i=o.ML.marks(e)||{},s=Object.fromEntries(N.d.map(e=>[e,{isDisabled:"inherit"!==r.inlineMarks&&!r.inlineMarks[e]||!l,isSelected:!!i[e]}]));if(e.selection&&o.e6.isExpanded(e.selection))for(let t of o.ML.nodes(e,{match:o.xv.isText}))for(let e of Object.keys(t[0]))"insertMenu"!==e&&"text"!==e&&e in s&&(s[e].isSelected=!0);let[a]=o.ML.nodes(e,{match:(0,N.n)("heading")}),[c]=o.ML.nodes(e,{match:w.a}),[d]=o.ML.nodes(e,{match:(0,N.n)("paragraph","heading")}),u=eE(e);return{marks:s,textStyles:{selected:a?a[0].level:"normal",allowedHeadingLevels:"block"!==r.kind||c?[]:r.documentFeatures.formatting.headings.levels},code:{isSelected:(0,N.f)(e,"code"),isDisabled:!("block"===r.kind&&r.documentFeatures.formatting.blockTypes.code)},lists:{ordered:{isSelected:(0,N.f)(e,"ordered-list")&&("none"===u||"ordered-list"===u),isDisabled:!("block"===r.kind&&r.documentFeatures.formatting.listTypes.ordered&&!a)},unordered:{isSelected:(0,N.f)(e,"unordered-list")&&("none"===u||"unordered-list"===u),isDisabled:!("block"===r.kind&&r.documentFeatures.formatting.listTypes.unordered&&!a)}},alignment:{isDisabled:!d&&!("block"===r.kind&&r.documentFeatures.formatting.alignment),selected:(null==d?void 0:d[0].textAlign)||"start"},blockquote:{isDisabled:!("block"===r.kind&&r.documentFeatures.formatting.blockTypes.blockquote),isSelected:(0,N.f)(e,"blockquote")},layouts:{isSelected:(0,N.f)(e,"layout")},links:{isDisabled:!e.selection||o.e6.isCollapsed(e.selection)||!r.documentFeatures.links,isSelected:(0,N.f)(e,"link")},editor:e,dividers:{isDisabled:"inline"===r.kind||!r.documentFeatures.dividers},clearFormatting:{isDisabled:!(Object.values(s).some(e=>e.isSelected)||function(e){let[t]=o.ML.nodes(e,{match:e=>"heading"===e.type||"code"===e.type||"blockquote"===e.type});return!!t}(e))},editorDocumentFeatures:n}};function eE(e){let t=o.ML.above(e,{match:w.a});return t?t[0].type:"none"}let eT=(0,l.createContext)(null);function eB(){let e=(0,l.useContext)(eT);if(!e)throw Error("useDocumentEditorConfig must be used within a DocumentEditorConfigContext.Provider");return e}let eA=e=>{let{children:t,componentBlocks:n,editorDocumentFeatures:r}=e,i=(0,s.ui)();return(0,S.jsx)(eT.Provider,{value:(0,l.useMemo)(()=>({componentBlocks:n,documentFeatures:r}),[n,r]),children:(0,S.jsx)(eP.Provider,{value:eY(i,n,r),children:t})})},eO=e=>(0,N.f)(e,"link"),ez=(e,t)=>{if(eO(e)){o.YR.unwrapNodes(e,{match:e=>"link"===e.type});return}let{selection:n}=e,r=n&&o.e6.isCollapsed(n);r?o.YR.insertNodes(e,{type:"link",href:t,children:[{text:t}]}):o.YR.wrapNodes(e,{type:"link",href:t,children:[{text:""}]},{split:!0})},eI=e=>{let{attributes:t,children:n,element:r}=e,i=(0,d.qb)(k.l),c=(0,s._7)(),[g,b]=(0,L.a)(c,r),y=g.href,w=o.NB.string(g),[N,R]=(0,l.useState)(!1),C=(0,M.CS)(),F=C===r;(0,l.useEffect)(()=>{F&&!y&&R(!0)},[y,F]);let K=(0,L.u)(()=>{o.YR.unwrapNodes(c,{at:s.F3.findPath(c,r)}),s.F3.focus(c)});return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(M.oR,{element:r,children:[(0,S.jsx)("a",{href:y,...t,children:n}),(0,S.jsx)(M.V2,{placement:"bottom start",children:(0,S.jsxs)(a.kC,{gap:"small",padding:"regular",children:[(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:()=>R(!0),children:(0,S.jsx)(p.J,{src:m.g})}),(0,S.jsx)(j.u,{children:i.format("edit")})]}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:()=>{window.open(y,"_blank","noopener,noreferrer")},children:(0,S.jsx)(p.J,{src:f.K})}),(0,S.jsx)(j.u,{children:(0,S.jsx)(v.Text,{truncate:3,children:y})})]}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:K,children:(0,S.jsx)(p.J,{src:x.s})}),(0,S.jsx)(j.u,{children:"Unlink"})]})]})})]}),(0,S.jsx)(h.TW,{onDismiss:()=>{R(!1),(0,L.f)(c)},children:N&&(0,S.jsx)(eq,{text:w,href:y,onSubmit:e=>{let{href:t}=e;b({href:t})}})})]})};function eq(e){let{onSubmit:t,...n}=e,[r,i]=(0,l.useState)(n.href||""),[o,s]=(0,l.useState)(!1),{dismiss:c}=(0,h.SN)(),p=(0,d.qb)(k.l),m=o&&!(0,R.i)(r);return(0,S.jsx)(h.Vq,{size:"small",children:(0,S.jsxs)("form",{style:{display:"contents"},onSubmit:e=>{e.target!==e.currentTarget||(e.preventDefault(),m||(c(),t({href:r})))},children:[(0,S.jsxs)(v.Heading,{children:[n.href?"Edit":"Add"," link"]}),(0,S.jsx)(b.VY,{children:(0,S.jsxs)(a.kC,{gap:"large",direction:"column",children:[(0,S.jsx)(y.nv,{label:"Text",value:n.text,isReadOnly:!0}),(0,S.jsx)(y.nv,{autoFocus:!0,isRequired:!0,onBlur:()=>s(!0),label:"Link",onChange:i,value:r,errorMessage:m&&"Please provide a valid URL."})]})}),(0,S.jsxs)(u.hE,{children:[(0,S.jsx)(u.zx,{onPress:c,children:p.format("cancel")}),(0,S.jsx)(u.zx,{prominence:"high",type:"submit",children:p.format("save")})]})]})})}let eJ=(0,S.jsx)(p.J,{src:g.N}),e_=(0,S.jsxs)(j.a,{children:[(0,S.jsx)(function(){let{editor:e,links:{isDisabled:t,isSelected:n}}=eD();return(0,l.useMemo)(()=>(0,S.jsx)(u.Kk,{prominence:"low",isDisabled:t,isSelected:n,onPress:()=>{ez(e,""),s.F3.focus(e)},children:eJ}),[n,t,e])},{}),(0,S.jsx)(j.u,{children:(0,S.jsx)(v.Text,{children:"Link"})})]}),e$={start:{key:"start",label:"Align Start",icon:(0,S.jsx)(p.J,{src:$.$})},center:{key:"center",label:"Align Center",icon:(0,S.jsx)(p.J,{src:V.L})},end:{key:"end",label:"Align End",icon:(0,S.jsx)(p.J,{src:W.g})}},eW=e=>{let{alignment:t}=e,n=eD(),r=(0,l.useMemo)(()=>[e$.start,...Object.keys(t).map(e=>e$[e])],[t]);return(0,l.useMemo)(()=>(0,S.jsxs)(J.bF,{children:[(0,S.jsxs)(j.a,{children:[(0,S.jsxs)(u.Kk,{prominence:"low",children:[e$[n.alignment.selected].icon,(0,S.jsx)(p.J,{src:K.i})]}),(0,S.jsx)(j.u,{children:(0,S.jsx)(v.Text,{children:"Text Alignment"})})]}),(0,S.jsx)(J.v2,{selectionMode:"single",selectedKeys:[n.alignment.selected],items:r,onAction:e=>{"start"===e?o.YR.unsetNodes(n.editor,"textAlign",{match:e=>"paragraph"===e.type||"heading"===e.type}):o.YR.setNodes(n.editor,{textAlign:e},{match:e=>"paragraph"===e.type||"heading"===e.type}),s.F3.focus(n.editor)},children:e=>(0,S.jsxs)(C.c,{textValue:e.label,children:[(0,S.jsx)(v.Text,{children:e.label}),e.icon]},e.key)})]}),[r,n.alignment.selected,n.editor])},eV=e=>{let t=(0,N.f)(e,"blockquote");t?o.YR.unwrapNodes(e,{match:e=>"blockquote"===e.type}):o.YR.wrapNodes(e,{type:"blockquote",children:[]})},eH=e=>{let{attributes:t,children:n}=e;return(0,S.jsx)(a.xu,{UNSAFE_className:L.b,borderColor:"neutral",marginX:0,paddingX:"large",borderStartStyle:"solid",borderStartWidth:"large",...t,children:n})},eU=(0,S.jsxs)(j.a,{children:[(0,S.jsx)(()=>{let{editor:e,blockquote:{isDisabled:t,isSelected:n}}=eD();return(0,l.useMemo)(()=>(0,S.jsx)(u.Kk,{prominence:"low",isSelected:n,isDisabled:t,onPress:()=>{eV(e),s.F3.focus(e)},children:(0,S.jsx)(p.J,{src:H.O})}),[e,t,n])},{}),(0,S.jsxs)(j.u,{children:[(0,S.jsx)(v.Text,{children:"Quote"}),(0,S.jsx)(v.Kbd,{children:">⎵"})]})]});function eZ(e){let t=(0,s._7)(),[n,r]=(0,l.useState)(()=>(0,en.b)(e.schema,Object.fromEntries(Object.keys(e.schema.fields).map(t=>[t,e.element[t]])))),[i,a]=(0,l.useState)(!1),c=(0,l.useMemo)(()=>(0,ee.c)(e.schema,r,()=>void 0),[e.schema])(n),{dismiss:p}=(0,h.SN)(),m=(0,d.qb)(k.l);return(0,S.jsx)(h.Vq,{size:"small",children:(0,S.jsxs)("form",{style:{display:"contents"},onSubmit:r=>{if(r.target===r.currentTarget&&(r.preventDefault(),a(!0),(0,et.c)(e.schema,n,void 0))){p();let r=s.F3.findPath(t,e.element);console.log(n),o.YR.setNodes(t,n,{at:r})}},children:[(0,S.jsxs)(v.Heading,{children:[e.nodeLabel," details"]}),(0,S.jsx)(b.VY,{children:(0,S.jsx)(ee.F,{forceValidation:i,autoFocus:!0,...c})}),(0,S.jsxs)(u.hE,{children:[(0,S.jsx)(u.zx,{onPress:p,children:m.format("cancel")}),(0,S.jsx)(u.zx,{prominence:"high",type:"submit",children:m.format("save")})]})]})})}function eX(e){let t=(0,d.qb)(k.l);return(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:e.onPress,children:(0,S.jsx)(p.J,{src:m.g})}),(0,S.jsx)(j.u,{children:t.format("edit")})]})}function eG(e){let t=(0,s._7)();return(0,S.jsx)(h.TW,{onDismiss:()=>{e.onDismiss(),(0,L.f)(t)},children:e.isOpen&&(0,S.jsx)(eZ,{element:e.element,nodeLabel:e.nodeLabel,schema:e.schema})})}let eQ=(0,S.jsxs)(j.a,{children:[(0,S.jsx)(function(){let{editor:e,code:{isDisabled:t,isSelected:n}}=eD();return(0,l.useMemo)(()=>(0,S.jsx)(u.Kk,{isSelected:n,isDisabled:t,prominence:"low",onPress:()=>{n?o.YR.unwrapNodes(e,{match:e=>"code"===e.type}):o.YR.wrapNodes(e,{type:"code",children:[{text:""}]}),s.F3.focus(e)},children:(0,S.jsx)(p.J,{src:P.z})}),[t,n,e])},{}),(0,S.jsxs)(j.u,{children:[(0,S.jsx)(v.Text,{children:"Code block"}),(0,S.jsx)(v.Kbd,{children:"```"})]})]});function e0(e){var t;let{attributes:n,children:r,element:i}=e,d=(0,s._7)(),h=(0,l.useRef)(null),[m,f]=(0,l.useState)(i.language?null!==(t=Q.b.get(i.language))&&void 0!==t?t:i.language:"Plain text"),[g,x]=(0,l.useState)(!1),{documentFeatures:b}=eB(),y=b.formatting.blockTypes.code&&Object.keys(b.formatting.blockTypes.code.schema.fields).length?b.formatting.blockTypes.code.schema:void 0;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(M.qm,{children:(0,S.jsxs)(M.oR,{element:i,children:[(0,S.jsx)("pre",{spellCheck:"false",className:(0,c.iv)({backgroundColor:c.iK.color.background.surface,borderRadius:c.iK.size.radius.medium,color:c.iK.color.foreground.neutralEmphasis,fontFamily:c.iK.typography.fontFamily.code,fontSize:"0.85em",lineHeight:c.iK.typography.lineheight.medium,maxWidth:"100%",overflow:"auto",padding:c.iK.size.space.medium,code:{fontFamily:"inherit"}}),ref:h,children:(0,S.jsx)("code",{...n,children:r})}),(0,S.jsx)(M.V2,{children:(0,S.jsxs)(a.kC,{gap:"regular",padding:"regular",children:[(0,S.jsx)(X.hQ,{"aria-label":"Language",width:"scale.2000",allowsCustomValue:!0,inputValue:m,onInputChange:f,onBlur:()=>{let e=s.F3.findPath(d,i),t=Q.a.get(m);if(void 0!==t){if("plain"===t){o.YR.unsetNodes(d,"language",{at:e});return}f(Q.c.get(t)),o.YR.setNodes(d,{language:t},{at:e});return}let n=Q.l.get(m);if(void 0!==n){if("plain"===n){o.YR.unsetNodes(d,"language",{at:e});return}o.YR.setNodes(d,{language:n},{at:e});return}if(""===m){o.YR.unsetNodes(d,"language",{at:e}),f("Plain text");return}m!==i.language&&o.YR.setNodes(d,{language:m},{at:e})},onSelectionChange:e=>{let t=s.F3.findPath(d,i);if(Q.a.has(m)&&(e=Q.a.get(m)),null===e)""===m?o.YR.unsetNodes(d,"language",{at:t}):o.YR.setNodes(d,{language:m},{at:t});else if("string"==typeof e){if("plain"===e){o.YR.unsetNodes(d,"language",{at:t}),f("Plain text");return}o.YR.setNodes(d,{language:e},{at:t});let n=Q.c.get(e);n&&f(n)}},selectedKey:i.language?Q.a.get(i.language):"plain",items:(0,l.useMemo)(()=>"Plain text"===m||Q.l.has(m)?Q.d:(0,Z.Lu)(Q.d,m,{keys:["label","value","aliases"]}),[m]),children:e=>(0,S.jsx)(U.ck,{children:e.label},e.value)}),(0,S.jsx)(M.Jf,{}),void 0!==y&&(0,S.jsx)(eX,{onPress:()=>x(!0)}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:()=>{o.YR.removeNodes(d,{at:s.F3.findPath(d,i)})},children:(0,S.jsx)(p.J,{src:G.S})}),(0,S.jsx)(j.u,{tone:"critical",children:"Remove"})]})]})})]})}),void 0!==y&&(0,S.jsx)(eG,{element:i,isOpen:g,nodeLabel:"Code block",schema:y,onDismiss:()=>{x(!1)}})]})}let e1=l.createContext({});function e3(e){let{path:t}=e,n=(0,l.useContext)(e1),r=n[JSON.stringify(t)];return void 0===r?null:r}function e2(e){let t,{componentBlock:n,element:r,onChange:i,children:o}=e,s=(0,l.useMemo)(()=>(0,ee.c)({kind:"object",fields:n.schema},i,e=>(0,S.jsx)(e3,{path:e})),[i,n]),a=s(r.props),d={};o.forEach(e=>{var n;let l=e.props.children.props.element.propPath;void 0===l?t=e:d[JSON.stringify((n=r.props,l.map(e=>{var t,r;if("string"==typeof e)return n=null===(r=n)||void 0===r?void 0:r[e],e;if(!Array.isArray(n))return n=void 0,"";let l=(0,en.a)(n);return n=null===(t=n)||void 0===t?void 0:t[e],l[e]})))]=e});let u=n.preview;return(0,S.jsxs)(e1.Provider,{value:d,children:[(0,l.useMemo)(()=>(0,S.jsx)(u,{...a}),[a,u]),(0,S.jsx)("span",{className:(0,c.iv)({caretColor:"transparent","& ::selection":{backgroundColor:"transparent"}}),children:t})]})}function e4(e){var t;let n=(0,s.vt)(),r=(0,l.useMemo)(()=>(0,et.c)({kind:"object",fields:e.componentBlock.schema},e.elementProps,void 0),[e.componentBlock,e.elementProps]),[i,o]=(0,l.useState)(!1),d=(0,l.useCallback)(()=>{o(!1)},[]),u=(0,l.useCallback)(()=>{o(!0)},[]),h=null!==(t=e.componentBlock.toolbar)&&void 0!==t?t:e5;return(0,S.jsx)(e6,{selected:n,...e.attributes,children:(0,S.jsxs)(a.kC,{gap:"medium",direction:"column",children:[(0,S.jsx)(M.Li,{children:(0,S.jsx)(v.Text,{casing:"uppercase",color:"neutralSecondary",weight:"medium",size:"small",children:e.componentBlock.label})}),i?(0,S.jsxs)(l.Fragment,{children:[(0,S.jsx)(e7,{isValid:r,props:e.previewProps,onClose:d}),(0,S.jsx)("div",{className:(0,c.iv)({display:"none"}),children:e.children})]}):(0,S.jsxs)(l.Fragment,{children:[e.renderedBlock,(0,S.jsx)(h,{isValid:r,onRemove:e.onRemove,onShowEditMode:u,props:e.previewProps})]})]})})}let e6=(0,l.forwardRef)(function(e,t){let{children:n,selected:r,...l}=e;return(0,S.jsx)("div",{...l,ref:t,className:(0,c.iv)(L.b,{position:"relative",paddingInlineStart:c.iK.size.space.xlarge,"::before":{display:"block",content:'" "',backgroundColor:r?c.iK.color.alias.borderSelected:c.iK.color.alias.borderIdle,borderRadius:4,width:4,position:"absolute",left:0,top:0,bottom:0,zIndex:1}}),children:n})});function e5(e){let{onShowEditMode:t,onRemove:n,isValid:r}=e,l=(0,d.qb)(k.l);return(0,S.jsx)(M.Li,{children:(0,S.jsxs)(a.kC,{direction:"column",gap:"medium",children:[(0,S.jsxs)(a.kC,{alignItems:"center",gap:"regular",children:[(0,S.jsx)(u.Kk,{onPress:()=>t(),children:l.format("edit")}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:n,children:(0,S.jsx)(p.J,{src:G.S})}),(0,S.jsx)(j.u,{tone:"critical",children:l.format("delete")})]})]}),!r&&(0,S.jsx)(el.nd,{children:"Contains invalid fields. Please edit."})]})})}function e7(e){let{onClose:t,props:n,isValid:r}=e,[i,o]=(0,l.useState)(!1);return(0,S.jsxs)(a.kC,{direction:"column",gap:"medium",contentEditable:!1,UNSAFE_className:(0,c.iv)({whiteSpace:"initial"}),children:[(0,S.jsx)(ee.F,{...n,forceValidation:i}),(0,S.jsx)(u.zx,{alignSelf:"start",tone:"accent",onPress:()=>{r?t():o(!0)},children:"Done"})]})}function e9(e){var t;let n=null!==(t=e.componentBlock.toolbar)&&void 0!==t?t:e8;return(0,S.jsx)("div",{...e.attributes,className:L.b,children:(0,S.jsxs)(M.oR,{element:e.element,children:[(0,S.jsx)("div",{children:e.renderedBlock}),(0,S.jsx)(M.V2,{children:(0,S.jsx)(n,{onRemove:e.onRemove,props:e.previewProps})})]})})}function e8(e){let{onRemove:t}=e;return(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{onPress:t,margin:"regular",children:(0,S.jsx)(p.J,{src:ei.y})}),(0,S.jsx)(j.u,{tone:"critical",children:"Remove"})]})}function te(e){return(0,S.jsx)("span",{...e.attributes,children:e.children})}function tt(e,t,n){let r=function(e,t){let n=(0,en.g)({kind:"object",fields:t.schema});return{type:"component-block",component:e,props:n,children:(0,w.f)(n,t.schema).map(e=>({type:`component-${e.options.kind}-prop`,propPath:e.path,children:["block"===e.options.kind?{type:"paragraph",children:[{text:""}]}:{text:""}]}))}}(n,t[n]);(0,L.i)(e,r);let l=o.ML.above(e,{match:e=>"component-block"===e.type});if(l){let t=o.ML.start(e,l[1]);o.YR.setSelection(e,{anchor:t,focus:t})}}let tn=e=>{let{attributes:t,children:n,element:r}=e,i=(0,s._7)(),[a,c]=(0,L.a)(i,r),d=eB().componentBlocks,u=d[a.component],h=(0,l.useRef)({__elementToGetPath:r,currentElement:a});(0,l.useEffect)(()=>{h.current={__elementToGetPath:r,currentElement:a}});let p=(0,L.u)(()=>{let e=s.F3.findPath(i,r);o.YR.removeNodes(i,{at:e})}),m=(0,l.useCallback)(e=>{var t,n;let r=h.current.currentElement.props;t=e(r),n=s.F3.findPath(i,h.current.__elementToGetPath),o.ML.withoutNormalizing(i,()=>{c({props:t});let e=function e(t,n,r,l,i,o){switch(r.kind){case"form":return[];case"child":return[{path:l,prevPath:i,options:r.options}];case"conditional":let s=t.discriminant===n.discriminant;return e(t.value,s?n.value:(0,en.g)(r.values[t.discriminant]),r.values[t.discriminant],l.concat("value"),s?void 0:null==i?void 0:i.concat("value"),s?void 0:null==o?void 0:o.concat("value"));case"object":{let s=[];for(let a of Object.keys(r.fields))s.push(...e(t[a],n[a],r.fields[a],l.concat(a),null==i?void 0:i.concat(a),null==o?void 0:o.concat(a)));return s}case"array":{let s=[],a=(0,en.a)(n),c=(0,en.a)(t);for(let[d,u]of t.entries()){let t;let h=c[d],p=a.indexOf(h);t=-1===p?(0,en.g)(r.element):n[p],s.push(...e(u,t,r.element,l.concat(d),-1===p?void 0:null==i?void 0:i.concat(p),-1===p?void 0:null==o?void 0:o.concat(h)))}return s}}}(t,r,{kind:"object",fields:u.schema},[],[],[]),l=()=>o.NB.get(i,n),s=l();if(0===e.length){let e=s.children.map((e,t)=>t).reverse();for(let t of e)o.YR.removeNodes(i,{at:[...n,t]});o.YR.insertNodes(i,{type:"component-inline-prop",propPath:void 0,children:[{text:""}]},{at:[...n,0]});return}let a=new Map;for(let[e,t]of s.children.entries())(0,er.hu)("component-block-prop"===t.type||"component-inline-prop"===t.type),a.set(void 0===t.propPath?void 0:JSON.stringify(t.propPath),e);let d=new Set(e);for(let t of e){if(void 0===t.prevPath)continue;let e=JSON.stringify(t.prevPath),r=a.get(e);if(void 0!==r){let l=s.children[r];(0,er.hu)(void 0!==l.propPath),(0,w.b)(t.path,l.propPath)||o.YR.setNodes(i,{propPath:t.path},{at:[...n,r]}),d.delete(t),a.delete(e)}}let h=l().children.length;for(let e of d)o.YR.insertNodes(i,{type:`component-${e.options.kind}-prop`,propPath:e.path,children:["block"===e.options.kind?{type:"paragraph",children:[{text:""}]}:{text:""}]},{at:[...n,h]}),h++;let p=[];for(let[,e]of a)p.push(o.ML.pathRef(i,[...n,e]));for(let e of p){let t=e.unref();(0,er.hu)(null!==t),o.YR.removeNodes(i,{at:t})}let m=new Map;for(let[t,n]of e.entries())m.set(JSON.stringify(n.path),t);e:for(;;){for(let[e,t]of l().children.entries()){(0,er.hu)("component-block-prop"===t.type||"component-inline-prop"===t.type);let r=m.get(JSON.stringify(t.propPath));if((0,er.hu)(void 0!==r),e!==r){o.YR.moveNodes(i,{at:[...n,e],to:[...n,r]});continue e}}break}})},[c,u,i]),f=(0,l.useMemo)(()=>u?(0,ee.c)({kind:"object",fields:u.schema},m,()=>void 0):()=>{throw Error("expected component block to exist when called")},[u,m]);if(!u)return(0,S.jsxs)("div",{style:{border:"red 4px solid",padding:8},children:[(0,S.jsx)("pre",{contentEditable:!1,style:{userSelect:"none"},children:`The block "${a.component}" no longer exists.

Props:

${JSON.stringify(a.props,null,2)}

Content:`}),n]});let g=f(a.props),x=(0,S.jsx)(e2,{children:n,componentBlock:u,element:a,onChange:m});return u.chromeless?(0,S.jsx)(e9,{element:r,attributes:t,renderedBlock:x,componentBlock:u,onRemove:p,previewProps:g}):(0,S.jsx)(e4,{attributes:t,children:n,componentBlock:u,onRemove:p,previewProps:g,renderedBlock:x,elementProps:a.props})};function tr(e){(0,L.i)(e,{type:"divider",children:[{text:""}]}),o.ML.insertNode(e,{type:"paragraph",children:[{text:""}]})}let tl=(0,S.jsxs)(j.a,{delay:200,children:[(0,S.jsx)(()=>{let{editor:e,dividers:{isDisabled:t}}=eD();return(0,l.useMemo)(()=>(0,S.jsx)(u.Kk,{prominence:"low",isDisabled:t,onPress:()=>{tr(e)},children:(0,S.jsx)(p.J,{src:eo.$})}),[e,t])},{}),(0,S.jsxs)(j.u,{children:[(0,S.jsx)(v.Text,{children:"Divider"}),(0,S.jsx)(v.Kbd,{children:"---"})]})]});function ti(e){let{attributes:t,children:n}=e,r=(0,s.vt)();return(0,S.jsxs)(a.xu,{...t,paddingY:"medium",UNSAFE_className:(0,c.iv)({caretColor:"transparent"}),children:[(0,S.jsx)("hr",{className:(0,c.iv)({backgroundColor:r?c.iK.color.alias.borderSelected:c.iK.color.alias.borderIdle,border:0,height:2})}),n]})}let to=e=>{let{attributes:t,children:n,element:r}=e,l=(0,s._7)(),i=r.layout,d=eB().documentFeatures.layouts,h=d.findIndex(e=>e.toString()===i.toString());return(0,S.jsx)("div",{className:L.b,...t,children:(0,S.jsxs)(M.oR,{element:r,children:[(0,S.jsx)("div",{className:(0,c.iv)({columnGap:c.iK.size.space.regular,display:"grid"}),style:{gridTemplateColumns:i.map(e=>`${e}fr`).join(" ")},children:n}),(0,S.jsx)(M.V2,{children:(0,S.jsxs)(a.kC,{padding:"regular",gap:"regular",children:[(0,S.jsx)(C.W,{selectionMode:"single",prominence:"low",density:"compact",onAction:e=>{let t=s.F3.findPath(l,r),n=d[e];o.YR.setNodes(l,{type:"layout",layout:n},{at:t}),s.F3.focus(l)},selectedKeys:-1!==h?[h.toString()]:[],children:d.map((e,t)=>(0,S.jsx)(C.c,{children:function(e){let t=(0,S.jsx)("div",{role:"img",className:(0,c.iv)({display:"grid",gridTemplateColumns:e.map(e=>`${e}fr`).join(" "),gap:2,width:16,height:16}),children:e.map((e,t)=>(0,S.jsx)("div",{className:(0,c.iv)({backgroundColor:"currentcolor",borderRadius:1})},t))});return t}(e)},t))}),(0,S.jsx)(M.Jf,{}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:()=>{let e=s.F3.findPath(l,r);o.YR.removeNodes(l,{at:e})},children:(0,S.jsx)(p.J,{src:G.S})}),(0,S.jsx)(j.u,{tone:"critical",children:"Remove"})]})]})})]})})},ts=e=>{let{attributes:t,children:n}=e;return(0,S.jsx)("div",{className:(0,c.iv)({borderColor:c.iK.color.border.neutral,borderRadius:c.iK.size.radius.regular,borderStyle:"dashed",borderWidth:c.iK.size.border.regular,padding:c.iK.size.space.medium}),...t,children:n})},ta=(e,t)=>{(0,L.i)(e,[{type:"layout",layout:t,children:[{type:"layout-area",children:[{type:"paragraph",children:[{text:""}]}]}]}]);let n=o.ML.above(e,{match:e=>"layout"===e.type});n&&o.YR.select(e,[...n[1],0])},tc=(0,S.jsx)(p.J,{src:es.b}),td=e=>{let{layouts:t}=e,{editor:n,layouts:{isSelected:r}}=eD();return(0,l.useMemo)(()=>(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",isSelected:r,onPress:()=>{(0,N.f)(n,"layout")?o.YR.unwrapNodes(n,{match:e=>"layout"===e.type}):ta(n,t[0]),s.F3.focus(n)},children:tc}),(0,S.jsx)(j.u,{children:"Layouts"})]}),[n,r,t])},tu=(e,t)=>{let n=eE(e),r=(0,N.f)(e,t)&&("none"===n||n===t);o.ML.withoutNormalizing(e,()=>{o.YR.unwrapNodes(e,{match:w.a,split:!0,mode:r?"all":"lowest"}),r||o.YR.wrapNodes(e,{type:t,children:[]},{match:e=>"list-item-content"!==e.type&&(0,N.i)(e)})})};function th(e){let{editor:t,lists:n}=eD();return(0,l.useMemo)(()=>{let r=[];n.ordered.isDisabled&&r.push("ordered"),n.unordered.isDisabled&&r.push("unordered");let l=[];return n.ordered.isSelected&&l.push("ordered"),n.unordered.isSelected&&l.push("unordered"),(0,S.jsx)(C.W,{flexShrink:0,"aria-label":"Lists",selectionMode:"single",buttonLabelBehavior:"hide",density:"compact",prominence:"low",summaryIcon:(0,S.jsx)(p.J,{src:ea.U}),selectedKeys:l,disabledKeys:r,onAction:e=>{let n=`${e}-list`;tu(t,n),s.F3.focus(t)},children:[e.lists.unordered&&(0,S.jsxs)(C.c,{textValue:"Bullet List (- )",children:[(0,S.jsx)(p.J,{src:ea.U}),(0,S.jsx)(v.Text,{children:"Bullet List"}),(0,S.jsx)(v.Kbd,{children:"-⎵"})]},"unordered"),e.lists.ordered&&(0,S.jsxs)(C.c,{textValue:"Numbered List (1.)",children:[(0,S.jsx)(p.J,{src:ec.P}),(0,S.jsx)(v.Text,{children:"Numbered List"}),(0,S.jsx)(v.Kbd,{children:"1.⎵"})]},"ordered")].filter(e=>!1!==e)})},[t,n.ordered.isDisabled,n.ordered.isSelected,n.unordered.isDisabled,n.unordered.isSelected,e.lists.ordered,e.lists.unordered])}let tp=e=>{let{attributes:t,children:n,element:r}=e,[i,f]=(0,l.useState)(!1),[g,x]=(0,l.useState)(),b=(0,d.qb)(k.l),y=(0,s._7)(),[v,w]=(0,L.a)(y,r),N=(0,eh.qA)(v.src.content),R=(0,M.CS)(),C=R===r;return(0,S.jsxs)(S.Fragment,{children:[(0,S.jsxs)(M.qm,{attributes:t,children:[n,(0,S.jsxs)(M.oR,{element:r,children:[(0,S.jsx)("div",{style:{alignItems:"center",display:"flex",flexDirection:"column"},children:(0,S.jsx)(M.Li,{children:(0,S.jsx)("img",{...t,src:N,alt:v.alt,"data-selected":C,onLoad:e=>{let t=e.target;x(t.width/t.height)},className:(0,c.iv)({boxSizing:"border-box",borderRadius:c.iK.size.radius.regular,display:"block",maxHeight:c.iK.size.scale[3600],maxWidth:"100%",transition:(0,c.eR)("box-shadow"),"&[data-selected=true]":{boxShadow:`0 0 0 ${c.iK.size.border.regular} ${c.iK.color.alias.borderSelected}`}})})})}),(0,S.jsx)(M.V2,{hideArrow:!0,children:(0,S.jsxs)(a.kC,{gap:"regular",padding:"regular",children:[(0,S.jsxs)(a.kC,{gap:"small",children:[(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:()=>f(!0),children:(0,S.jsx)(p.J,{src:m.g})}),(0,S.jsx)(j.u,{children:b.format("edit")})]}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:async()=>{let e=await (0,eh.tH)();e&&w({src:e})},children:(0,S.jsx)(p.J,{src:ed.Y})}),(0,S.jsx)(j.u,{children:"Choose file"})]})]}),(0,S.jsx)(a.iz,{orientation:"vertical"}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:()=>{o.YR.removeNodes(y,{at:s.F3.findPath(y,r)})},children:(0,S.jsx)(p.J,{src:G.S})}),(0,S.jsx)(j.u,{tone:"critical",children:"Remove"})]})]})})]},g)]}),(0,S.jsx)(h.TW,{onDismiss:()=>{f(!1),(0,L.f)(y)},children:i&&(0,S.jsx)(tm,{alt:v.alt,title:v.title,filename:v.src.filename,onSubmit:e=>{let{alt:t,filename:n,title:r}=e;w({alt:t,title:r,src:{content:v.src.content,filename:n}})}})})]})};function tm(e){let{images:t}=eB().documentFeatures;if(!t)throw Error("unexpected image rendered when images are disabled");let n=(0,l.useMemo)(()=>(0,ep.o)(t.schema),[t]),[r,i]=(0,l.useState)({alt:e.alt,title:e.title}),o=(0,l.useMemo)(()=>(0,ee.c)(n,i,()=>void 0),[n])(r),[s,c]=function(e){let t=e.lastIndexOf(".");return -1===t?[e,""]:[e.substring(0,t),e.substring(t+1)]}(e.filename),[p,m]=(0,l.useState)(!1),[f,g]=(0,l.useState)(s),[x,j]=(0,l.useState)(!1),{dismiss:M}=(0,h.SN)(),w=(0,d.qb)(k.l);return(0,S.jsx)(h.Vq,{size:"small",children:(0,S.jsxs)("form",{style:{display:"contents"},onSubmit:t=>{t.target===t.currentTarget&&(t.preventDefault(),m(!0),f&&(0,et.c)(n,r,void 0)&&(M(),e.onSubmit({alt:r.alt,title:r.title,filename:[f,c].join(".")})))},children:[(0,S.jsx)(v.Heading,{children:"Image details"}),(0,S.jsx)(b.VY,{children:(0,S.jsxs)(a.kC,{gap:"large",direction:"column",children:[(0,S.jsx)(y.nv,{label:"File name",onChange:g,onBlur:()=>j(!0),value:f,isRequired:!0,errorMessage:(x||p)&&!f?"Please provide a file name.":void 0,endElement:c?(0,S.jsx)(a.kC,{alignItems:"center",justifyContent:"center",paddingEnd:"regular",children:(0,S.jsxs)(v.Text,{color:"neutralTertiary",children:[".",c]})}):null}),(0,S.jsx)(ee.F,{forceValidation:p,autoFocus:!0,...o})]})}),(0,S.jsxs)(u.hE,{children:[(0,S.jsx)(u.zx,{onPress:M,children:w.format("cancel")}),(0,S.jsx)(u.zx,{prominence:"high",type:"submit",children:w.format("save")})]})]})})}let tf=(0,S.jsx)(p.J,{src:eu.y}),tg=(0,S.jsxs)(j.a,{children:[(0,S.jsx)(function(){let e=(0,s._7)();return(0,S.jsx)(S.Fragment,{children:(0,S.jsx)(u.Kk,{prominence:"low",onPress:async()=>{let t=await (0,eh.tH)();t&&o.YR.insertNodes(e,{type:"image",src:t,alt:"",title:"",children:[{text:""}]})},children:tf})})},{}),(0,S.jsx)(j.u,{children:(0,S.jsx)(v.Text,{children:"Image"})})]}),tx=e=>{o.YR.insertNodes(e,{type:"table",children:[{type:"table-head",children:[{type:"table-row",children:[(0,w.h)(!0),(0,w.h)(!0),(0,w.h)(!0)]}]},{type:"table-body",children:[{type:"table-row",children:[(0,w.h)(!1),(0,w.h)(!1),(0,w.h)(!1)]},{type:"table-row",children:[(0,w.h)(!1),(0,w.h)(!1),(0,w.h)(!1)]}]}]})},tb=(0,l.createContext)(void 0);function ty(e){let t=(0,s.ui)(),n=(0,w.c)(t);if(n){var r,l;return(0,S.jsx)(tb.Provider,{value:{cells:"not-selected"===n.singleCell?new Set:function(e,t,n){var r;let l=new Set,i="table-head"===e.children[0].type||"table-body"===e.children[0].type?e.children[0]:void 0;if(!i)return l;let s=(null===(r=e.children[1])||void 0===r?void 0:r.type)==="table-body"?e.children[1]:void 0;for(let e=t.start;e<=t.end;e++){let t=s?0===e?i.children[0]:s.children[e-1]:i.children[e];if(o.W_.isElement(t))for(let e=n.start;e<=n.end;e++)l.add(t.children[e])}return l}(n.table,n.row,n.column),table:n.table,focus:null===(r=o.ML.above(t,{match:(0,N.n)("table-cell"),at:null===(l=t.selection)||void 0===l?void 0:l.focus.path}))||void 0===r?void 0:r[0]},children:e.children})}return(0,S.jsx)(tb.Provider,{value:void 0,children:e.children})}let tj=(0,l.createContext)({top:new Map,left:new Map}),tv=e=>{var t;let{attributes:n,children:r,element:i}=e,d=(0,s._7)(),h=(0,l.useContext)(tb),m=(null==h?void 0:h.table)===i?h:void 0,f=(0,l.useMemo)(()=>{let e=i.children[0];if(!o.W_.isElement(e)||!o.W_.isElement(e.children[0]))return{top:new Map,left:new Map};let t=new Map,n=new Map;for(let[n,r]of e.children[0].children.entries())"table-cell"===r.type&&t.set(r,i.children.every(e=>!!o.W_.isElement(e)&&e.children.every(e=>o.W_.isElement(e)&&(null==m?void 0:m.cells.has(e.children[n])))));for(let e of i.children)if("table-head"===e.type||"table-body"===e.type)for(let t of e.children)"table-row"===t.type&&"table-cell"===t.children[0].type&&n.set(t.children[0],t.children.every(e=>null==m?void 0:m.cells.has(e)));return{top:t,left:n}},[i,m]);return(0,S.jsx)(tj.Provider,{value:f,children:(0,S.jsx)(tb.Provider,{value:m,children:(0,S.jsx)(M.qm,{attributes:n,children:(0,S.jsxs)(M.oR,{element:i,children:[(0,S.jsx)("table",{className:(0,c.iv)({width:"100%",tableLayout:"fixed",position:"relative",borderSpacing:0,"& *::selection":null!=m&&m.cells.size?{backgroundColor:"transparent"}:void 0}),children:r}),(0,S.jsx)(M.V2,{children:(0,S.jsxs)(a.kC,{gap:"regular",padding:"regular",children:[(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",isSelected:(null===(t=i.children[0])||void 0===t?void 0:t.type)==="table-head",onPress:()=>{let e=s.F3.findPath(d,i);o.ML.withoutNormalizing(d,()=>{if("table-head"===i.children[0].type){o.YR.moveNodes(d,{at:[...e,0,0],to:[...e,1,0]}),o.YR.removeNodes(d,{at:[...e,0]});return}o.YR.insertNodes(d,{type:"table-head",children:[]},{at:[...e,0]}),o.YR.moveNodes(d,{at:[...e,1,0],to:[...e,0,0]})})},children:(0,S.jsx)(p.J,{src:em.x})}),(0,S.jsx)(j.u,{children:"Header row"})]}),(0,S.jsx)(M.Jf,{}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:()=>{o.YR.removeNodes(d,{at:s.F3.findPath(d,i)})},children:(0,S.jsx)(p.J,{src:G.S})}),(0,S.jsx)(j.u,{tone:"critical",children:"Remove"})]})]})})]})})})})},tk=e=>{let{attributes:t,children:n}=e;return(0,S.jsx)("tbody",{...t,children:n})},tM=e=>{let{attributes:t,children:n}=e;return(0,S.jsx)("thead",{...t,children:n})},tw=e=>{var t,n;let{attributes:r,children:i,element:o}=e,s=null===(t=(0,l.useContext)(tb))||void 0===t?void 0:t.table;return(0,S.jsx)(tN.Provider,{value:null!==(n=null==s?void 0:s.children.indexOf(o))&&void 0!==n?n:-1,children:(0,S.jsx)("tr",{...r,children:i})})},tN=(0,l.createContext)(-1);function tS(e){let{attributes:t,children:n,element:r}=e,i=(0,s._7)(),a=(0,l.useContext)(tb),d=(0,l.useContext)(tj),u=null==a?void 0:a.cells.has(r),h="calc(100% + 2px)",p=r.header?"th":"td",m=u?c.iK.color.alias.borderSelected:c.iK.color.alias.borderIdle;return(0,S.jsxs)(p,{className:(0,c.iv)({borderInlineEnd:`1px solid ${m}`,borderBottom:`1px solid ${m}`,borderTop:d.top.has(r)?`1px solid ${m}`:void 0,borderInlineStart:d.left.has(r)?`1px solid ${m}`:void 0,backgroundColor:null!=a&&a.cells.has(r)?c.iK.color.alias.backgroundSelected:r.header?c.iK.color.scale.slate3:void 0,position:"relative",margin:0,padding:c.iK.size.space.regular,fontWeight:"inherit",boxSizing:"border-box",textAlign:"start",verticalAlign:"top"}),...t,children:[u&&(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)("div",{contentEditable:!1,className:(0,c.iv)({position:"absolute",top:-1,insetInlineStart:-1,background:c.iK.color.alias.borderSelected,height:h,width:1})}),(0,S.jsx)("div",{contentEditable:!1,className:(0,c.iv)({position:"absolute",top:-1,insetInlineStart:-1,background:c.iK.color.alias.borderSelected,height:1,width:h})})]}),d.top.has(r)&&(0,S.jsx)(tR,{location:"top",selected:!!d.top.get(r),label:"Select Column",onClick:()=>{let e=s.F3.findPath(i,r),t=o.ML.above(i,{match:(0,N.n)("table"),at:e});if(!t)return;let n=t[0].children.length-1,l=t[0].children[n];if("table-body"!==l.type)return;let a=e[e.length-1],c=[...t[1],t[0].children.length-1,l.children.length-1,a];o.YR.select(i,{anchor:o.ML.start(i,e),focus:o.ML.end(i,c)})}}),d.left.has(r)&&(0,S.jsx)(tR,{location:"left",selected:!!d.left.get(r),label:"Select Row",onClick:()=>{let e=s.F3.findPath(i,r);o.YR.select(i,{anchor:o.ML.start(i,o.y$.parent(e)),focus:o.ML.end(i,o.y$.parent(e))})}}),d.left.has(r)&&d.top.has(r)&&(0,S.jsx)(tR,{location:"top-left",selected:!!(d.top.get(r)&&d.left.get(r)),label:"Select Table",onClick:()=>{let e=s.F3.findPath(i,r),t=o.ML.above(i,{match:(0,N.n)("table"),at:e});t&&o.YR.select(i,{anchor:o.ML.start(i,t[1]),focus:o.ML.end(i,t[1])})}}),(0,S.jsx)("div",{children:n}),(null==a?void 0:a.focus)===r&&(0,S.jsx)(tC,{cell:r,table:a.table})]})}function tR(e){let t=(0,l.useContext)(tb),n=(0,s._7)();return(0,S.jsxs)("div",{contentEditable:!1,children:[(0,S.jsx)("button",{tabIndex:-1,type:"button",...(0,eg.a9)(e,new Set(["location","selected"])),className:(0,c.iv)({background:c.iK.color.scale.slate3,border:`1px solid ${c.iK.color.alias.borderIdle}`,margin:0,padding:0,position:"absolute",":hover":{background:c.iK.color.scale.slate4},"::before":{content:'""',inset:-1,position:"absolute"},"&[data-location=top]":{top:-9,insetInlineStart:-1,width:"calc(100% + 2px)",height:8},"&[data-location=left]":{top:-1,insetInlineStart:-9,width:8,height:"calc(100% + 2px)"},"&[data-location=top-left]":{top:-9,insetInlineStart:-9,width:8,height:8},"&:not([data-location=top])":{borderInlineEnd:"none"},"&:not([data-location=left])":{borderBottom:"none"},"&[data-selected=true]":{background:c.iK.color.scale.indigo8,borderColor:c.iK.color.alias.borderSelected}}),style:{visibility:null!=t&&t.focus?"visible":"hidden"},"aria-label":e.label,onClick:()=>{s.F3.focus(n),e.onClick()}}),e.selected&&("top"===e.location?(0,S.jsx)("div",{className:(0,c.iv)({position:"absolute",top:-9,insetInlineEnd:-1,background:c.iK.color.alias.borderSelected,height:8,width:1,zIndex:2})}):(0,S.jsx)("div",{className:(0,c.iv)({position:"absolute",bottom:-1,insetInlineStart:-9,background:c.iK.color.alias.borderSelected,height:1,width:8,zIndex:2})}))]})}let tL={deleteRow:{label:"Delete row",action:(e,t)=>{let n=t.slice(0,-3),r=o.NB.get(e,n);if("table"!==r.type)return;let l="table-head"===r.children[0].type,i=o.y$.parent(t);o.YR.removeNodes(e,{at:l&&0===i[t.length-3]?o.y$.parent(i):i})}},deleteColumn:{label:"Delete column",action:(e,t)=>{let n=t[t.length-1],r=t.slice(0,-3),l=o.NB.get(e,r);"table"===l.type&&o.ML.withoutNormalizing(e,()=>{for(let[t,i]of l.children.entries())if("table-head"===i.type||"table-body"===i.type)for(let l of i.children.keys())o.YR.removeNodes(e,{at:[...r,t,l,n]})})}},insertRowBelow:{label:"Insert row below",action:(e,t)=>{let n=o.NB.get(e,o.y$.parent(t)),r=t.slice(0,-3),l=o.NB.get(e,r);if("table-row"!==n.type||"table"!==l.type)return;let i="table-head"===l.children[0].type,s=[...r,i?1:0,i&&0===t[t.length-3]?0:t[t.length-2]+1];o.ML.withoutNormalizing(e,()=>{o.YR.insertNodes(e,{type:"table-row",children:n.children.map(()=>(0,w.h)(!1))},{at:s}),o.YR.select(e,[...s,t[t.length-1]])})}},insertColumnRight:{label:"Insert column right",action:(e,t)=>{let n=t[t.length-1]+1,r=t.slice(0,-3),l=o.NB.get(e,r);"table"===l.type&&o.ML.withoutNormalizing(e,()=>{for(let[t,i]of l.children.entries())if("table-head"===i.type||"table-body"===i.type)for(let l of i.children.keys())o.YR.insertNodes(e,(0,w.h)("table-head"===i.type),{at:[...r,t,l,n]});o.YR.select(e,o.ML.start(e,o.y$.next(t)))})}}};function tC(e){let t=(0,s._7)(),n=c.iK.size.space.small;return(0,S.jsx)("div",{contentEditable:!1,className:(0,c.iv)({top:n,insetInlineEnd:n,position:"absolute"}),children:(0,S.jsxs)(j.a,{children:[(0,S.jsxs)(J.bF,{align:"end",children:[(0,S.jsx)(u.Kk,{prominence:"low",UNSAFE_className:(0,c.iv)({borderRadius:c.iK.size.radius.small,height:"auto",minWidth:0,padding:0,"&::before":{content:'""',inset:`calc(${n} * -1)`,position:"absolute"}}),children:(0,S.jsx)(p.J,{src:K.i})}),(0,S.jsx)(J.v2,{onAction:n=>{n in tL&&tL[n].action(t,s.F3.findPath(t,e.cell))},items:Object.entries(tL).map(e=>{let[t,n]=e;return{...n,key:t}}),children:e=>(0,S.jsx)(J.ck,{children:e.label},e.key)})]}),(0,S.jsx)(j.u,{children:"Options"})]})})}let tF=(0,S.jsxs)(j.a,{children:[(0,S.jsx)(()=>{let{editor:e,blockquote:{isDisabled:t,isSelected:n}}=eD();return(0,l.useMemo)(()=>(0,S.jsx)(u.Kk,{prominence:"low",isSelected:n,isDisabled:t,onPress:()=>{tx(e),s.F3.focus(e)},children:(0,S.jsx)(p.J,{src:ef.I})}),[e,t,n])},{}),(0,S.jsx)(j.u,{children:(0,S.jsx)(v.Text,{children:"Table"})})]});function tK(e){let{documentFeatures:t,viewState:n}=e,r=eB().componentBlocks,i=Object.keys(r).length,o=Object.values(t.formatting.inlineMarks).some(e=>e),s=t.formatting.alignment.center||t.formatting.alignment.end,c=t.formatting.listTypes.unordered||t.formatting.listTypes.ordered;return(0,S.jsxs)(tD,{children:[(0,S.jsxs)(tY,{children:[!!t.formatting.headings.levels.length&&(0,S.jsx)(tT,{headingLevels:t.formatting.headings.levels}),o&&(0,S.jsx)(tO,{marks:t.formatting.inlineMarks}),(s||c)&&(0,S.jsxs)(tP,{children:[s&&(0,S.jsx)(eW,{alignment:t.formatting.alignment}),c&&(0,S.jsx)(th,{lists:t.formatting.listTypes})]}),(t.dividers||t.links||!!t.images||t.formatting.blockTypes.blockquote||t.tables||!!t.layouts.length||t.formatting.blockTypes.code)&&(0,S.jsxs)(tP,{children:[t.dividers&&tl,t.links&&e_,t.images&&tg,t.formatting.blockTypes.blockquote&&eU,!!t.layouts.length&&(0,S.jsx)(td,{layouts:t.layouts}),t.formatting.blockTypes.code&&eQ,t.tables&&tF]})]}),(0,l.useMemo)(()=>n&&(0,S.jsxs)(a.kC,{gap:"xsmall",children:[(0,S.jsx)(M.Jf,{}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.zx,{prominence:"low",onPress:()=>{n.toggle()},children:(0,S.jsx)(p.J,{src:n.expanded?E.Y:Y.M})}),(0,S.jsx)(j.u,{children:n.expanded?"Collapse":"Expand"})]})]}),[n]),!!i&&(0,S.jsx)(tB,{})]})}let tP=e=>{let{children:t}=e;return(0,S.jsx)(a.kC,{gap:"regular",children:t})},tD=e=>{let{children:t}=e;return(0,S.jsxs)(a.kC,{minWidth:0,backgroundColor:"canvas",borderTopStartRadius:"medium",borderTopEndRadius:"medium",position:"sticky",zIndex:2,insetTop:0,children:[t,(0,S.jsx)(a.kC,{role:"presentation",borderBottom:"muted",position:"absolute",insetX:"medium",insetBottom:0})]})},tY=e=>(0,S.jsx)(a.kC,{padding:"regular",paddingEnd:"medium",gap:"large",flex:!0,minWidth:0,UNSAFE_className:(0,c.iv)({msOverflowStyle:"none",scrollbarWidth:"none",overflowX:"auto","&::-webkit-scrollbar":{display:"none"}}),...e}),tE=new Map([["normal","normal"],["1",1],["2",2],["3",3],["4",4],["5",5],["6",6]]),tT=e=>{let{headingLevels:t}=e,{editor:n,textStyles:r}=eD(),i=0===r.allowedHeadingLevels.length,a=(0,l.useMemo)(()=>{let e=[{name:"Paragraph",id:"normal"}];return t.forEach(t=>{e.push({name:`Heading ${t}`,id:t.toString()})}),e},[t]),c=r.selected.toString();return(0,l.useMemo)(()=>(0,S.jsx)(_.cW,{flexShrink:0,width:"scale.1700",prominence:"low","aria-label":"Text block",items:a,isDisabled:i,selectedKey:c,onSelectionChange:e=>{let t=tE.get(e);"normal"===t?o.ML.withoutNormalizing(n,()=>{o.YR.unsetNodes(n,"level",{match:e=>"heading"===e.type}),o.YR.setNodes(n,{type:"paragraph"},{match:e=>"heading"===e.type})}):t&&o.YR.setNodes(n,{type:"heading",level:t},{match:e=>"paragraph"===e.type||"heading"===e.type}),s.F3.focus(n)},children:e=>(0,S.jsx)(C.c,{children:e.name},e.id)}),[n,i,a,c])};function tB(){let e=(0,s._7)(),t=eB().componentBlocks;return(0,S.jsxs)(J.bF,{align:"end",children:[(0,S.jsxs)(j.a,{children:[(0,S.jsxs)(u.Kk,{marginY:"regular",marginEnd:"medium",children:[(0,S.jsx)(p.J,{src:T.R}),(0,S.jsx)(p.J,{src:K.i})]}),(0,S.jsxs)(j.u,{children:[(0,S.jsx)(v.Text,{children:"Insert"}),(0,S.jsx)(v.Kbd,{children:"/"})]})]}),(0,S.jsx)(J.v2,{onAction:n=>{tt(e,t,n)},items:Object.entries(t),children:e=>{let[t,n]=e;return(0,S.jsx)(C.c,{children:n.label},t)}})]})}let tA=[{key:"bold",label:"Bold",icon:F.r,shortcut:"B"},{key:"italic",label:"Italic",icon:D.Z,shortcut:"I"},{key:"underline",label:"Underline",icon:q.Q,shortcut:"U"},{key:"strikethrough",label:"Strikethrough",icon:A.U},{key:"code",label:"Code",icon:P.z},{key:"superscript",label:"Superscript",icon:z.Y},{key:"subscript",label:"Subscript",icon:O.N},{key:"clearFormatting",label:"Clear formatting",icon:B.v}];function tO(e){let{marks:t}=e,{editor:n,clearFormatting:{isDisabled:r},marks:i}=eD(),a=tz(t),d=tz(Object.keys(i).filter(e=>i[e].isSelected)),u=tz(Object.keys(i).filter(e=>i[e].isDisabled).concat(r?"clearFormatting":[]));return(0,l.useMemo)(()=>{let e=tA.filter(e=>"clearFormatting"===e.key||a[e.key]);return(0,S.jsx)(C.W,{UNSAFE_className:(0,c.iv)({minWidth:`calc(${c.iK.size.element.medium} * 4)`}),prominence:"low",density:"compact",buttonLabelBehavior:"hide",overflowMode:"collapse",summaryIcon:(0,S.jsx)(p.J,{src:I.R}),items:e,selectionMode:"multiple",selectedKeys:d,disabledKeys:u,onAction:e=>{if("clearFormatting"===e)(0,N.h)(n);else{var t;null!==(t=o.ML.marks(n))&&void 0!==t&&t[e]?o.ML.removeMark(n,e):o.ML.addMark(n,e,!0)}s.F3.focus(n)},children:e=>(0,S.jsxs)(C.c,{textValue:e.label,children:[(0,S.jsx)(v.Text,{children:e.label}),"shortcut"in e&&(0,S.jsx)(v.Kbd,{meta:!0,children:e.shortcut}),(0,S.jsx)(p.J,{src:e.icon})]},e.key)})},[u,n,a,d])}function tz(e){return(0,l.useMemo)(()=>e,[JSON.stringify(e)])}let tI=e=>{let{attributes:t,children:n,element:r}=e,i=`h${r.level}`,d=(0,s._7)(),{documentFeatures:h}=eB(),[m,f]=(0,l.useState)(!1);return 0===Object.keys(h.formatting.headings.schema).length?(0,S.jsx)(i,{...t,className:L.b,style:{color:c.iK.color.foreground.neutralEmphasis,textAlign:r.textAlign},children:n}):(0,S.jsxs)(S.Fragment,{children:[(0,S.jsx)(i,{className:L.b,style:{color:c.iK.color.foreground.neutralEmphasis,textAlign:r.textAlign},children:(0,S.jsxs)(M.oR,{element:r,children:[(0,S.jsx)("div",{children:n}),(0,S.jsx)(M.V2,{children:(0,S.jsxs)(a.kC,{gap:"regular",padding:"regular",children:[(0,S.jsx)(eX,{onPress:()=>f(!0)}),(0,S.jsxs)(j.a,{children:[(0,S.jsx)(u.Kk,{prominence:"low",onPress:()=>{o.YR.removeNodes(d,{at:s.F3.findPath(d,r)})},children:(0,S.jsx)(p.J,{src:G.S})}),(0,S.jsx)(j.u,{tone:"critical",children:"Remove"})]})]})})]})}),(0,S.jsx)(eG,{element:r,schema:h.formatting.headings.schema,isOpen:m,nodeLabel:"Heading",onDismiss:()=>f(!1)})]})},tq=e=>{switch(e.element.type){case"layout":return(0,S.jsx)(to,{attributes:e.attributes,children:e.children,element:e.element});case"layout-area":return(0,S.jsx)(ts,{...e});case"code":return(0,S.jsx)(e0,{attributes:e.attributes,children:e.children,element:e.element});case"component-block":return(0,S.jsx)(tn,{attributes:e.attributes,children:e.children,element:e.element});case"component-inline-prop":case"component-block-prop":return(0,S.jsx)(te,{...e});case"heading":return(0,S.jsx)(tI,{attributes:e.attributes,children:e.children,element:e.element});case"link":return(0,S.jsx)(eI,{attributes:e.attributes,children:e.children,element:e.element});case"ordered-list":return(0,S.jsx)("ol",{className:L.b,...e.attributes,children:e.children});case"unordered-list":return(0,S.jsx)("ul",{className:L.b,...e.attributes,children:e.children});case"list-item":return(0,S.jsx)("li",{...e.attributes,children:e.children});case"list-item-content":return(0,S.jsx)("span",{...e.attributes,children:e.children});case"blockquote":return(0,S.jsx)(eH,{...e});case"divider":return(0,S.jsx)(ti,{...e});case"image":return(0,S.jsx)(tp,{attributes:e.attributes,children:e.children,element:e.element});case"table":return(0,S.jsx)(tv,{attributes:e.attributes,children:e.children,element:e.element});case"table-head":return(0,S.jsx)(tM,{attributes:e.attributes,children:e.children,element:e.element});case"table-body":return(0,S.jsx)(tk,{attributes:e.attributes,children:e.children,element:e.element});case"table-row":return(0,S.jsx)(tw,{attributes:e.attributes,children:e.children,element:e.element});case"table-cell":return(0,S.jsx)(tS,{attributes:e.attributes,children:e.children,element:e.element});default:let{textAlign:t}=e.element;return(0,S.jsx)("p",{className:L.b,style:{textAlign:t},...e.attributes,children:e.children})}};function tJ(e,t,n){let r=s.F3.findPath(e,t);o.YR.delete(e,{at:{focus:o.ML.start(e,r),anchor:o.ML.end(e,r)}}),n.insert(e)}function t_(e){let{children:t,text:n}=e,r=eD(),{editor:i}=r,{componentBlocks:a}=eB(),d=(0,Z.Lu)(function(e,t){let n=[...Object.keys(t).map(e=>({label:t[e].label,insert:n=>{tt(n,t,e)}})),...e.textStyles.allowedHeadingLevels.filter(t=>e.editorDocumentFeatures.formatting.headings.levels.includes(t)).map(e=>({label:`Heading ${e}`,insert(t){(0,L.i)(t,{type:"heading",level:e,children:[{text:""}]})}})),!e.blockquote.isDisabled&&e.editorDocumentFeatures.formatting.blockTypes.blockquote&&{label:"Blockquote",insert(e){(0,L.i)(e,{type:"blockquote",children:[{text:""}]})}},!e.code.isDisabled&&e.editorDocumentFeatures.formatting.blockTypes.code&&{label:"Code block",insert(e){(0,L.i)(e,{type:"code",children:[{text:""}]})}},!!e.editorDocumentFeatures.images&&{label:"Image",async insert(e){let t=await (0,eh.tH)();t&&(0,L.i)(e,{type:"image",src:t,alt:"",title:"",children:[{text:""}]})}},!!e.editorDocumentFeatures.tables&&{label:"Table",insert:tx},!e.dividers.isDisabled&&e.editorDocumentFeatures.dividers&&{label:"Divider",insert(e){(0,L.i)(e,{type:"divider",children:[{text:""}]})}},!!e.editorDocumentFeatures.layouts.length&&{label:"Layout",insert(t){ta(t,e.editorDocumentFeatures.layouts[0])}},!e.lists.ordered.isDisabled&&e.editorDocumentFeatures.formatting.listTypes.ordered&&{label:"Numbered List",keywords:["ordered list"],insert(e){(0,L.i)(e,{type:"ordered-list",children:[{text:""}]})}},!e.lists.unordered.isDisabled&&e.editorDocumentFeatures.formatting.listTypes.unordered&&{label:"Bullet List",keywords:["unordered list"],insert(e){(0,L.i)(e,{type:"unordered-list",children:[{text:""}]})}}];return n.filter(e=>"boolean"!=typeof e)}(r,a),n.text.slice(1),{keys:["label","keywords"]}).map((e,t)=>({...e,index:t})),u=(0,l.useRef)({options:d,text:n});(0,l.useEffect)(()=>{u.current={options:d,text:n}});let h=(0,l.useRef)(e=>{});(0,l.useEffect)(()=>{h.current=e=>{if(!e.defaultPrevented)switch(e.key){case"ArrowDown":u.current.options.length&&(e.preventDefault(),b.selectionManager.setFocused(!0),b.selectionManager.setFocusedKey((Number(b.selectionManager.focusedKey)===u.current.options.length-1?0:Number(b.selectionManager.focusedKey)+1).toString()));return;case"ArrowUp":u.current.options.length&&(e.preventDefault(),b.selectionManager.setFocused(!0),b.selectionManager.setFocusedKey(("0"===b.selectionManager.focusedKey?u.current.options.length-1:Number(b.selectionManager.focusedKey)-1).toString()));return;case"Enter":{let t=u.current.options[Number(b.selectionManager.focusedKey)];t&&(tJ(i,u.current.text,t),e.preventDefault());return}case"Escape":{let t=s.F3.findPath(i,u.current.text);o.YR.unsetNodes(i,"insertMenu",{at:t}),e.preventDefault();return}}}}),(0,l.useEffect)(()=>{let e=s.F3.toDOMNode(i,i),t=e=>h.current(e);return e.addEventListener("keydown",t),()=>{e.removeEventListener("keydown",t)}},[i]);let p=(0,l.useRef)(null),m=(0,ej.d)({isOpen:!0}),{triggerProps:{onPress:f,...g},overlayProps:x}=(0,eb.IB)({type:"listbox"},m,p),b=(0,ey.n_)({items:d,children:e=>(0,S.jsx)(ev.ck,{children:e.label},e.index)});(0,l.useEffect)(()=>{!b.selectionManager.isFocused&&b.collection.size&&(b.selectionManager.setFocused(!0),b.selectionManager.setFocusedKey("0"))},[b]);let y=(0,l.useRef)(null);(0,l.useEffect)(()=>{var e,t;let n=null===(e=y.current)||void 0===e?void 0:null===(t=e.querySelector('[role="listbox"] [role="presentation"]'))||void 0===t?void 0:t.children[b.selectionManager.focusedKey];n&&(0,ex.Z)(n,{scrollMode:"if-needed",boundary:y.current,block:"nearest"})},[b.selectionManager.focusedKey]);let j=(0,l.useRef)(null),v=(0,ev.vG)(b);return(0,S.jsxs)(l.Fragment,{children:[(0,S.jsx)("span",{...g,role:"button",className:(0,c.iv)({color:c.iK.color.foreground.accent,fontWeight:c.iK.typography.fontWeight.medium}),ref:p,children:t}),(0,S.jsx)(ek.J2,{width:"alias.singleLineWidth",placement:"bottom start",isNonModal:!0,hideArrow:!0,...x,state:m,triggerRef:p,children:(0,S.jsx)("div",{className:(0,c.iv)({overflow:"scroll",maxHeight:300}),ref:y,children:(0,S.jsx)(ev.W5,{"aria-label":"Insert block",state:b,shouldUseVirtualFocus:!0,layout:v,ref:j,onAction:e=>{tJ(i,n,d[e])}})})})]})}let t$=new WeakSet,tW=new WeakSet;function tV(e){var t;let n=function e(t,n){if(o.xv.isText(t))return t.insertMenu?n:void 0;if(!t$.has(t.children)){for(let[r,l]of t.children.entries()){if(tW.has(l))continue;let t=e(l,[...n,r]);if(t)return t;tW.add(l)}t$.add(t.children)}}(e,[]);return!(!n||null!==(t=o.ML.marks(e))&&void 0!==t&&t.insertMenu||e.selection&&o.y$.equals(e.selection.anchor.path,n)&&o.y$.equals(e.selection.focus.path,n))&&(o.YR.unsetNodes(e,"insertMenu",{at:n}),!0)}function tH(e){let{placeholder:t,children:n}=e,[r,i]=(0,l.useState)(0);return(0,S.jsxs)("span",{className:(0,c.iv)({position:"relative",display:"inline-block",width:r}),children:[(0,S.jsx)("span",{contentEditable:!1,className:(0,c.iv)({position:"absolute",pointerEvents:"none",display:"inline-block",left:0,top:0,maxWidth:"100%",whiteSpace:"nowrap",opacity:"0.5",userSelect:"none",fontStyle:"normal",fontWeight:"normal",textDecoration:"none",textAlign:"left"}),children:(0,S.jsx)("span",{ref:e=>{if(e){let t=e.offsetWidth;t!==r&&i(t)}},children:t})}),n]})}let tU=e=>{let{leaf:t,text:n,children:r,attributes:l}=e,{underline:i,strikethrough:o,bold:s,italic:d,code:u,keyboard:h,superscript:p,subscript:m,placeholder:f,insertMenu:g,...x}=t;void 0!==f&&(r=(0,S.jsx)(tH,{placeholder:f,children:r})),g&&(r=(0,S.jsx)(t_,{text:n,children:r})),u&&(r=(0,S.jsx)(a.xu,{elementType:"code",backgroundColor:"accent",paddingX:"xsmall",paddingY:2,borderRadius:"small",UNSAFE_className:(0,c.iv)({color:c.iK.color.foreground.neutralEmphasis,fontSize:"0.85em",fontFamily:c.iK.typography.fontFamily.code}),children:r})),s&&(r=(0,S.jsx)("strong",{children:r})),o&&(r=(0,S.jsx)("s",{children:r})),d&&(r=(0,S.jsx)("em",{children:r})),h&&(r=(0,S.jsx)("kbd",{children:r})),p&&(r=(0,S.jsx)("sup",{children:r})),m&&(r=(0,S.jsx)("sub",{children:r})),i&&(r=(0,S.jsx)("u",{children:r}));let b=Object.keys(x).filter(e=>e.startsWith("prism_")).map(e=>tX.get(e.replace("prism_","")));if(b.length){let e=b.join(" ");r=(0,S.jsx)("span",{className:e,children:r})}return(0,S.jsx)("span",{...l,children:r})},tZ=e=>(0,S.jsx)(tU,{...e}),tX=new Map([{types:["comment","prolog","doctype","cdata"],style:{color:c.iK.color.foreground.neutralTertiary,fontStyle:"italic"}},{types:["atrule","attr-name","class-name","selector"],style:{color:c.iK.color.scale.amber11}},{types:["boolean","constant","inserted-sign","entity","inserted","number","regex","symbol","variable"],style:{color:c.iK.color.scale.green11}},{types:["attr-value","builtin","char","constant","generics","url"],style:{color:c.iK.color.scale.pink11}},{types:["string"],style:{color:c.iK.color.scale.indigo9}},{types:["annotation","deleted","deleted-sign","decorator","important","tag"],style:{color:c.iK.color.scale.red11}},{types:["function","function-variable","operator"],style:{color:c.iK.color.scale.purple11}},{types:["tag","selector","keyword"],style:{color:c.iK.color.scale.indigo11}},{types:["punctuation"],style:{color:c.iK.color.foreground.neutralSecondary}}].flatMap(e=>{let t=(0,c.iv)(e.style);return e.types.map(e=>[e,t])}));function tG(e){if(!e.selection)return{isInside:!1};let[,t]=o.ML.parent(e,e.selection);if(!t.length)return{isInside:!1};let[n,r]=o.ML.parent(e,t),l="blockquote"===n.type;return l?{isInside:!0,path:r}:{isInside:!1}}let tQ={bold:["**","__"],italic:["*","_"],strikethrough:["~~"],code:["`"]};function t0(e){let t=e.parentElement,n=null==t?void 0:t.getAttribute("data-align");if("center"===n||"end"===n)return n;if(e instanceof HTMLElement){let t=e.style.textAlign;if("center"===t)return"center";if("right"===t||"end"===t)return"end"}}let t1={H1:1,H2:2,H3:3,H4:4,H5:5,H6:6},t3={CODE:"code",DEL:"strikethrough",S:"strikethrough",STRIKE:"strikethrough",EM:"italic",I:"italic",STRONG:"bold",U:"underline",SUP:"superscript",SUB:"subscript",KBD:"keyboard"};function t2(e){if(!e.length)return[{text:""}];if(e.some(N.i)){let t=[],n=[],r=()=>{n.length&&(t.push({type:"paragraph",children:n}),n=[])};for(let l of e){if((0,N.i)(l)){r(),t.push(l);continue}""!==o.NB.string(l).trim()&&n.push(l)}return r(),t}return e}let t4={mdastExtensions:[eS,eL],extensions:[eR,eF()()]};function t6(e){let t=eN()(e,t4),n=t.children;return 1===n.length&&"paragraph"===n[0].type&&(n=n[0].children),function e(t,n){let r=[];for(let l of t){let t=function(t,n){switch(t.type){case"blockquote":return[{type:"blockquote",children:e(t.children,n)}];case"link":return(0,w.l)(t.url,()=>e(t.children,n));case"code":return[{type:"code",children:[{text:t.value}]}];case"paragraph":return[{type:"paragraph",children:e(t.children,n)}];case"heading":return[{type:"heading",level:t.depth,children:e(t.children,n)}];case"list":return[{type:t.ordered?"ordered-list":"unordered-list",children:e(t.children,n)}];case"listItem":return[{type:"list-item",children:e(t.children,n)}];case"thematicBreak":return[{type:"divider",children:[{text:""}]}];case"break":return(0,w.j)("\n");case"delete":return(0,w.n)("strikethrough",()=>e(t.children,n));case"strong":return(0,w.n)("bold",()=>e(t.children,n));case"emphasis":return(0,w.n)("italic",()=>e(t.children,n));case"inlineCode":return(0,w.n)("code",()=>(0,w.j)(t.value));case"text":return(0,w.j)(t.value)}return(0,w.j)(n.slice(t.position.start.offset,t.position.end.offset))}(l,n);t.length&&r.push(...t)}return r.length||r.push({text:""}),r}(n,e)}let t5=/https?:\/\//;function t7(e,t){(0,N.i)(t[0])?(0,L.i)(e,t):o.YR.insertFragment(e,t)}let t9="x-keystatic-fragment",t8=e=>e&&e.ownerDocument&&e.ownerDocument.defaultView||null,ne=e=>{let t=t8(e);return!!t&&e instanceof t.Node},nt=e=>ne(e)&&3===e.nodeType,nn=e=>ne(e)&&1===e.nodeType,nr=e=>{let t="";if(nt(e)&&e.nodeValue)return e.nodeValue;if(nn(e)){for(let n of Array.from(e.childNodes))t+=nr(n);let n=getComputedStyle(e).getPropertyValue("display");("block"===n||"list"===n||"BR"===e.tagName)&&(t+="\n")}return t},nl=/data-keystatic-fragment="(.+?)"/m,ni=e=>{let t=e.getData("text/html"),[,n]=t.match(nl)||[];return n},no="$$keystaticUint8Array$$",ns={"...":"…","-->":"→","->":"→","<-":"←","<--":"←","--":"–"},na={"mod+b":"bold","mod+i":"italic","mod+u":"underline"},nc=new Map([["ArrowUp","up"],["ArrowDown","down"],["ArrowLeft","left"],["ArrowRight","right"]]),nd=(e,t)=>n=>{if(n.defaultPrevented)return;for(let r in na)if(t.formatting.inlineMarks[na[r]]&&(0,i.ZP)(r,n.nativeEvent)){n.preventDefault();let t=na[r],l=function(e,t){let n=o.ML.marks(e);if(null!=n&&n[t])return!0;for(let n of o.ML.nodes(e,{match:o.xv.isText}))if(n[0][t])return!0;return!1}(e,t);l?o.ML.removeMark(e,t):o.ML.addMark(e,t,!0);return}if((0,i.ZP)("mod+\\",n.nativeEvent)){(0,N.h)(e);return}if(t.links&&(0,i.ZP)("mod+k",n.nativeEvent)){n.preventDefault(),ez(e,"");return}if("Tab"===n.key){let t=n.shiftKey?function(e){let t=o.ML.above(e,{match:N.i});return!!t&&"list-item-content"===t[0].type&&(o.YR.unwrapNodes(e,{match:w.a,split:!0}),!0)}(e):function(e){let t=o.ML.above(e,{match:N.i});if(!t||"list-item-content"!==t[0].type)return!1;let n=o.y$.parent(t[1]);if(0===n[n.length-1])return!1;let r=o.y$.previous(n),l=o.NB.get(e,r);if(1!==l.children.length)return o.YR.moveNodes(e,{at:n,to:[...r,l.children.length-1,l.children[l.children.length-1].children.length]}),!0;let i=o.ML.parent(e,o.y$.parent(t[1]))[0].type;return o.ML.withoutNormalizing(e,()=>{o.YR.wrapNodes(e,{type:i,children:[]},{at:n}),o.YR.moveNodes(e,{to:[...r,l.children.length],at:n})}),!0}(e);if(t){n.preventDefault();return}}if("Tab"===n.key&&e.selection){let t=o.ML.above(e,{match:e=>"layout-area"===e.type||"table-cell"===e.type});if(t){let r=n.shiftKey?o.ML.before(e,t[1],{unit:"block"}):o.ML.after(e,t[1],{unit:"block"});o.YR.setSelection(e,{anchor:r,focus:r}),n.preventDefault()}}if((0,i.ZP)("mod+a",n)){let t=o.ML.above(e,{match:(0,N.n)("table")});if(t){o.YR.select(e,t[1]),n.preventDefault();return}}let r=nc.get(n.key),{selection:l}=e;if(r&&l){let t=(0,w.c)(e);if(t){var a,c;let i=null===(a=o.ML.above(e,{match:(0,N.n)("table-cell"),at:l.focus.path}))||void 0===a?void 0:a[1],d=null===(c=o.ML.above(e,{match:(0,N.n)("table-cell"),at:l.anchor.path}))||void 0===c?void 0:c[1];if(!i||!d)return;let u=function(e,t,n){if("left"===n||"right"===n){let r=o.ML.above(e,{match:(0,N.n)("table-row"),at:t});if(!r)return;let l=t[t.length-1],i=l+("left"===n?-1:1),s=r[0].children[i];if(!s)return;return[...r[1],i]}let r=o.ML.above(e,{match:(0,N.n)("table"),at:t});if(!r)return;let l=t[t.length-3]+t[t.length-2],i=(0,w.e)("table-head"===r[0].children[0].type,l+("up"===n?-1:1));if(o.NB.has(r[0],i))return[...r[1],...i,t[t.length-1]]}(e,i,r);if(u){if("not-selected"===t.singleCell){if("up"!==r&&"down"!==r)return;let[t,a]=s.F3.toDOMPoint(e,l.focus),c=o.ML.above(e,{match:N.i,at:l.focus.path});if(!c||"up"===r&&c[1].slice(i.length).some(e=>0!==e))return;if("down"===r){let[t]=o.ML.parent(e,c[1]);if(t.children.length-1!==c[1][c[1].length-1])return;for(let[t,n]of o.NB.ancestors(e,c[1],{reverse:!0})){if("table-cell"===t.type)break;let[r]=o.ML.parent(e,n);if(r.children.length-1!==n[n.length-1])return}}let d=s.F3.toDOMNode(e,c[0]),h=document.createRange();h.selectNodeContents(d);let p=Array.from(h.getClientRects()),m=document.createRange();m.setStart(t,a),m.setEnd(t,a);let f=Array.from(m.getClientRects()),g=f[f.length-1],x="up"===r?"top":"bottom",b="top"===x?Math.min(...p.map(e=>e.top)):Math.max(...p.map(e=>e.bottom));if(g[x]===b){let t=o.ML["up"===r?"end":"start"](e,u);o.YR.select(e,{focus:t,anchor:n.shiftKey?l.anchor:t}),n.preventDefault()}return}if(!n.shiftKey)return;o.y$.equals(u,d)?o.YR.select(e,u):o.YR.select(e,{anchor:l.anchor,focus:o.ML.start(e,u)}),n.preventDefault()}}}};function nu(e){let{onChange:t,value:n,componentBlocks:r,documentFeatures:i,...c}=e,d=(0,l.useMemo)(()=>{var e;return function(e){let{insertTextData:t}=e;return e.setFragmentData=t=>{!function(e,t){let{selection:n}=e;if(!n)return;let[r,l]=o.e6.edges(n),i=o.ML.void(e,{at:r.path}),a=o.ML.void(e,{at:l.path});if(o.e6.isCollapsed(n)&&!i)return;let c=s.F3.toDOMRange(e,n),d=c.cloneContents(),u=d.childNodes[0];if(d.childNodes.forEach(e=>{e.textContent&&""!==e.textContent.trim()&&(u=e)}),a){let[t]=a,n=c.cloneRange(),r=s.F3.toDOMNode(e,t);n.setEndAfter(r),d=n.cloneContents()}if(i&&(u=d.querySelector("[data-slate-spacer]")),Array.from(d.querySelectorAll("[data-slate-zero-width]")).forEach(e=>{let t="n"===e.getAttribute("data-slate-zero-width");e.textContent=t?"\n":""}),nt(u)){let e=u.ownerDocument.createElement("span");e.style.whiteSpace="pre",e.appendChild(u),d.appendChild(e),u=e}let h=e.getFragment(),p=JSON.stringify(h,(e,t)=>t instanceof Uint8Array?{[no]:(0,eK.kZ)(t)}:t),m=window.btoa(encodeURIComponent(p));u.setAttribute("data-keystatic-fragment",m),t.setData(`application/${t9}`,m);let f=d.ownerDocument.createElement("div");f.appendChild(d),f.setAttribute("hidden","true"),d.ownerDocument.body.appendChild(f),t.setData("text/html",f.innerHTML),t.setData("text/plain",nr(f)),d.ownerDocument.body.removeChild(f)}(e,t)},e.insertFragmentData=t=>{let n=t.getData(`application/${t9}`)||ni(t);if(n){let t=decodeURIComponent(window.atob(n)),r=JSON.parse(t,(e,t)=>"object"==typeof t&&null!==t&&no in t&&"string"==typeof t[no]?(0,eK._f)(t[no]):t);return e.insertFragment(r),!0}return!1},e.insertTextData=n=>{let r=o.ML.above(e,{match:N.i});if((null==r?void 0:r[0].type)==="code"){let t=n.getData("text/plain");return e.insertText(t),!0}let l=n.getData("vscode-editor-data");if(l)try{let t=JSON.parse(l);if((null==t?void 0:t.mode)==="markdown"||(null==t?void 0:t.mode)==="mdx"){let t=n.getData("text/plain");if(t){let n=t6(t);return t7(e,n),!0}}}catch(e){console.log(e)}let i=n.getData("text/plain");if(t5.test(i)&&(0,R.i)(i)&&e.selection&&!o.e6.isCollapsed(e.selection)&&o.ML.above(e,{match:e=>(0,N.i)(e)&&!(0,N.i)(e.children[0])})&&o.ML.nodes(e,{match:e=>"link"===e.type}).next().done)return o.YR.wrapNodes(e,{type:"link",href:i,children:[]},{split:!0}),!0;let s=n.getData("text/html");if(s){let t=function(e){let t=new DOMParser().parseFromString(e,"text/html");return t2(function e(t){let n=[];for(let r of t)n.push(...function(t){if(!(t instanceof globalThis.HTMLElement)){let e=t.textContent;return e?(0,w.j)(e):[]}if("BR"===t.nodeName)return(0,w.j)("\n");if("IMG"===t.nodeName){let e=t.getAttribute("alt");return(0,w.j)(null!=e?e:"")}if("HR"===t.nodeName)return[{type:"divider",children:[{text:""}]}];let n=function(e){let t=new Set,n=e.style,{nodeName:r}=e,l=t3[r];l&&t.add(l);let{fontWeight:i,textDecoration:o,verticalAlign:s}=n;return"underline"===o?t.add("underline"):"line-through"===o&&t.add("strikethrough"),"SPAN"===r&&e.classList.contains("code")&&t.add("code"),"B"===r&&"normal"!==i?t.add("bold"):"string"==typeof i&&("bold"===i||"bolder"===i||"1000"===i||/^[5-9]\d{2}$/.test(i))&&t.add("bold"),"italic"===n.fontStyle&&t.add("italic"),"super"===s?t.add("superscript"):"sub"===s&&t.add("subscript"),t}(t);return t.classList.contains("listtype-quote")?(n.delete("italic"),(0,w.k)(n,()=>[{type:"blockquote",children:t2(e(t.childNodes))}])):(0,w.k)(n,()=>{let{nodeName:n}=t;if("A"===n){let n=t.getAttribute("href");if(n)return(0,w.l)(n,()=>(0,w.m)("underline",()=>e(t.childNodes)))}if("PRE"===n&&t.textContent)return[{type:"code",children:[{text:t.textContent||""}]}];let r=e(t.childNodes),l=t2(r);if("LI"===n){let e;let t={type:"list-item-content",children:l.filter(t=>void 0!==e||"ordered-list"!==t.type&&"unordered-list"!==t.type||(e=t,!1))},n=e?[t,e]:[t];return[{type:"list-item",children:n}]}if("P"===n)return[{type:"paragraph",textAlign:t0(t),children:l}];let i=t1[n];return"number"==typeof i?[{type:"heading",level:i,textAlign:t0(t),children:l}]:"BLOCKQUOTE"===n?[{type:"blockquote",children:l}]:"OL"===n?[{type:"ordered-list",children:l}]:"UL"===n?[{type:"unordered-list",children:l}]:"DIV"!==n||(0,N.i)(l[0])?r:[{type:"paragraph",children:l}]})}(r));return n}(t.body.childNodes))}(s);return t7(e,t),!0}if(i){let t=t6(i);return t7(e,t),!0}return t(n)},e}(function(e){let{insertData:t}=e;return e.insertData=n=>{let r=Array.from(n.files).filter(e=>e.type.startsWith("image/"));if(r.length){Promise.all(r.map(async e=>({name:e.name,data:new Uint8Array(await e.arrayBuffer())}))).then(t=>{(0,L.i)(e,{type:"image",src:{content:t[0].data,filename:t[0].name},alt:"",title:"",children:[{text:""}]})});return}t(n)},e}(((e=function(e){let{normalizeNode:t,apply:n,insertText:r}=e;return e.normalizeNode=n=>{let[r,l]=n;if(o.xv.isText(r)&&r.insertMenu){if("/"!==r.text[0]){o.YR.unsetNodes(e,"insertMenu",{at:l});return}let t=/\s/.exec(r.text);if(t){o.YR.unsetNodes(e,"insertMenu",{at:{anchor:{path:l,offset:t.index},focus:o.ML.end(e,l)},match:o.xv.isText,split:!0});return}}o.ML.isEditor(e)&&tV(e)||t([r,l])},e.apply=t=>{n(t),"set_selection"===t.type&&tV(e)},e.insertText=t=>{if(r(t),e.selection&&"/"===t){let t=o.ML.start(e,o.ML.above(e,{match:N.i})[1]),n=o.ML.before(e,e.selection.anchor,{unit:"character"});n&&(o.E9.equals(t,n)||0!==n.offset&&/\s/.test(o.NB.get(e,n.path).text[n.offset-1]))&&o.YR.setNodes(e,{insertMenu:!0},{at:{anchor:n,focus:e.selection.anchor},match:o.xv.isText,split:!0})}},e}(function(e){let{insertText:t}=e;return e.insertText=n=>{if(t(n)," "===n&&e.selection&&o.e6.isCollapsed(e.selection)){let t=e.selection.anchor,n=o.ML.above(e,{match:N.i});n&&Object.keys(ns).forEach(r=>{let l=o.ML.before(e,t,{unit:"character",distance:r.length+1});if(l&&o.y$.isDescendant(l.path,n[1])){let n={anchor:t,focus:l},i=o.ML.string(e,n);i.slice(0,r.length)===r&&(e.history.undos.push({operations:[],selectionBefore:e.selection}),o.YR.select(e,n),e.insertText(ns[r]+" "))}})}},e}(function(e){let{insertBreak:t}=e;return e.insertBreak=()=>{t();let n=o.ML.above(e,{match:e=>"heading"===e.type});if(!n||!e.selection||!o.e6.isCollapsed(e.selection))return;let r=n[1];if(o.E9.equals(o.ML.end(e,r),e.selection.anchor)){o.YR.unwrapNodes(e,{at:r});return}if(!o.y$.hasPrevious(r))return;let l=o.y$.previous(r),i=o.NB.get(e,l);"heading"===i.type&&1===i.children.length&&o.xv.isText(i.children[0])&&""===i.children[0].text&&o.YR.unwrapNodes(e,{at:l})},e}(function(e){let{insertBreak:t,deleteBackward:n}=e;return e.deleteBackward=t=>{if(e.selection){let t=tG(e);if(t.isInside&&o.e6.isCollapsed(e.selection)&&0===e.selection.anchor.offset&&0===e.selection.anchor.path[e.selection.anchor.path.length-2]){o.YR.unwrapNodes(e,{match:e=>"blockquote"===e.type,split:!0});return}}n(t)},e.insertBreak=()=>{let n=tG(e);if(e.selection&&n.isInside){let[t,r]=o.ML.node(e,e.selection);if(o.y$.isDescendant(r,n.path)&&""===o.NB.string(t)){o.YR.unwrapNodes(e,{match:e=>"blockquote"===e.type,split:!0});return}}t()},e}(function(e,t,n){let{insertText:r,insertBreak:l}=n;n.insertBreak=()=>{l();let e=o.ML.marks(n);if(!e||!n.selection)return;let t=o.ML.above(n,{match:N.i});if(!t)return;let r=(0,N.E)(n,n.selection.anchor),i=Object.keys(e);if(!r||!o.y$.isDescendant(r.path,t[1])){for(let e of i)n.removeMark(e);return}let s=o.NB.get(n,r.path);for(let e of i)s[e]||n.removeMark(e)};let i={},s=e.formatting.inlineMarks;return Object.keys(tQ).forEach(e=>{s[e]&&(i[e]=tQ[e])}),0===Object.keys(i).length||(n.insertText=l=>{if(r(l),n.selection&&o.e6.isCollapsed(n.selection)){for(let[r,s]of Object.entries(i))for(let i of s)if(l===i[i.length-1]){let l=o.ML.start(n,o.ML.above(n,{match:N.i})[1]),s=o.ML.string(n,{anchor:n.selection.anchor,focus:l}),a=/\s/.test(s.slice(-i.length-1,-i.length)),c=i===s.slice(-i.length);if(a||!c)continue;let d=s.slice(0,-i.length-1);for(let[s]of[...d].reverse().entries()){let a=d.slice(s,s+i.length);if(a!==i)continue;let c=0===s?l:(0,N.E)(n,l,{distance:s}),u=o.ML.after(n,c,{distance:i.length});if(0!==s&&!/\s/.test(o.ML.string(n,{anchor:o.ML.before(n,c,{unit:"character"}),focus:c})))continue;let h=o.ML.string(n,{anchor:u,focus:n.selection.anchor}).slice(0,-i.length);if(""===h||/\s/.test(h[0])||"italic"===r&&("_"===h[0]||"*"===h[0])||"code"===r&&"`"===h)continue;let p=(0,N.g)(n,e,t);if(!p||"inherit"===p.inlineMarks||!1!==p.inlineMarks[r]){!function(e,t,n,r){e.history.undos.push({operations:[],selectionBefore:e.selection});let l=o.ML.pointRef(e,r);o.YR.delete(e,{at:e.selection.anchor,distance:n.length,reverse:!0}),o.YR.delete(e,{at:r,distance:n.length}),o.YR.setNodes(e,{[t]:!0},{match:o.xv.isText,split:!0,at:{anchor:l.unref(),focus:e.selection.anchor}}),e.removeMark(t)}(n,r,i,c);return}}}}}),n}(i,r,function(e,t,n){let{insertText:r}=n,l=Object.create(null),i={...e},s=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"paragraph";if(!n(i))return;let o=e[e.length-1];l[o]||(l[o]=Object.create(null)),l[o][e]={insert:t,type:r,shouldBeEnabledInComponentBlock:n}};return s("1. ",()=>{o.YR.wrapNodes(n,{type:"ordered-list",children:[]},{match:N.i})},e=>e.formatting.listTypes.ordered),s("- ",()=>{o.YR.wrapNodes(n,{type:"unordered-list",children:[]},{match:N.i})},e=>e.formatting.listTypes.unordered),s("* ",()=>{o.YR.wrapNodes(n,{type:"unordered-list",children:[]},{match:N.i})},e=>e.formatting.listTypes.unordered),e.formatting.headings.levels.forEach(e=>{s("#".repeat(e)+" ",()=>{o.YR.setNodes(n,{type:"heading",level:e},{match:e=>"paragraph"===e.type||"heading"===e.type})},t=>t.formatting.headings.levels.includes(e),"heading-or-paragraph")}),s("> ",()=>{o.YR.wrapNodes(n,{type:"blockquote",children:[]},{match:e=>"paragraph"===e.type})},e=>e.formatting.blockTypes.blockquote),s("---",()=>{tr(n)},e=>e.dividers),n.insertText=i=>{r(i);let s=l[i];if(s&&n.selection&&o.e6.isCollapsed(n.selection)){let{anchor:r}=n.selection,l=o.ML.above(n,{match:N.i});if(!l||"paragraph"!==l[0].type&&"heading"!==l[0].type)return;let i=o.ML.start(n,l[1]),a={anchor:r,focus:i},c=o.ML.string(n,a),d=s[c];if(!d||"paragraph"===d.type&&"paragraph"!==l[0].type)return;let u=(0,N.g)(n,e,t);if(u&&("inline"===u.kind||!d.shouldBeEnabledInComponentBlock(u.documentFeatures)))return;n.history.undos.push({operations:[],selectionBefore:n.selection}),o.YR.select(n,a),o.YR.delete(n),d.insert()}},n}(i,r,(0,w._)((0,eM.VC)((0,s.BU)((0,o.Jh)())),i,r)))))))).insertSoftBreak=()=>{o.YR.insertText(e,"\n")},e)))},[i,r]);return(0,S.jsx)(a.xu,{backgroundColor:"canvas",border:"neutral",borderRadius:"medium",minWidth:0,children:(0,S.jsxs)(nm,{componentBlocks:r,documentFeatures:i,editor:d,value:n,onChange:e=>{null==t||t(e);let n=window.getSelection();if(n&&!s.F3.isFocused(d)){let e=s.F3.toDOMNode(d,d);n.anchorNode===e&&s.F3.focus(d)}},children:[(0,l.useMemo)(()=>void 0!==t&&(0,S.jsx)(tK,{documentFeatures:i}),[i,t]),(0,S.jsx)(nf,{id:"document-editor-boundary",...c,readOnly:void 0===t}),!1]})})}let nh=(0,l.createContext)(!1);function np(){return(0,l.useContext)(nh)}function nm(e){let{children:t,editor:n,onChange:r,value:i,componentBlocks:o,documentFeatures:a}=e,c=(0,l.useMemo)(()=>Math.random().toString(36),[n]);return(0,S.jsx)(nh.Provider,{value:!0,children:(0,S.jsx)(s.mH,{editor:n,value:i,onChange:e=>{r(e);let t=window.getSelection();if(t&&!s.F3.isFocused(n)){let e=s.F3.toDOMNode(n,n);t.anchorNode===e&&s.F3.focus(n)}},children:(0,S.jsx)(ty,{children:(0,S.jsx)(eA,{componentBlocks:o,editorDocumentFeatures:a,children:t})})},c)})}function nf(e){let t=(0,s.ui)(),{componentBlocks:n,documentFeatures:i}=eB(),a=(0,l.useMemo)(()=>nd(t,i),[t,i]);return(0,S.jsx)(M.dy,{editor:t,children:(0,S.jsx)(s.CX,{decorate:(0,l.useCallback)(e=>{let[l,i]=e,s=[];if("component-block"===l.type){if(1===l.children.length&&o.W_.isElement(l.children[0])&&"component-inline-prop"===l.children[0].type&&void 0===l.children[0].propPath)return s;l.children.forEach((e,r)=>{if(""===o.NB.string(e)&&o.W_.isElement(e)&&("component-block-prop"===e.type||"component-inline-prop"===e.type)&&void 0!==e.propPath){let a=o.ML.start(t,[...i,r]),c=(0,N.j)(e.propPath,n[l.component].schema,l.props);c&&s.push({placeholder:c,anchor:a,focus:a})}})}if("code"===l.type&&1===l.children.length&&void 0===l.children[0].type&&l.language&&l.language in r.P.languages){let e=[...i,0],t=r.P.tokenize(l.children[0].text,r.P.languages[l.language]);!function t(n,r){for(let l of r){let r=function e(t){return"string"==typeof t?t.length:Array.isArray(t.content)?t.content.reduce((t,n)=>t+e(n),0):e(t.content)}(l),i=n+r;"string"!=typeof l&&(s.push({["prism_"+l.type]:!0,anchor:{path:e,offset:n},focus:{path:e,offset:i}}),t(n,Array.isArray(l.content)?l.content:[l.content])),n=i}}(0,t)}return s},[t,n]),onKeyDown:a,renderElement:tq,renderLeaf:tZ,...e,className:(0,c.AK)(nj,e.className)})})}let ng=["lower-roman","decimal","lower-alpha"],nx=["square","disc","circle"],nb={color:c.iK.color.foreground.neutral,flex:1,fontFamily:c.iK.typography.fontFamily.base,fontSize:c.iK.fontsize.text.regular.size,height:"auto",lineHeight:1.4,minHeight:c.iK.size.scale[2e3],minWidth:0,padding:c.iK.size.space.medium,MozOsxFontSmoothing:"grayscale",WebkitFontSmoothing:"antialiased"},ny=10;for(;ny--;){let e=Array.from({length:ny});e.length&&(nb[e.map(()=>"ol").join(" ")]={listStyle:ng[ny%3]},nb[e.map(()=>"ul").join(" ")]={listStyle:nx[ny%3]})}let nj=(0,c.iv)({...nb,a:{color:c.iK.color.foreground.accent}})}}]);